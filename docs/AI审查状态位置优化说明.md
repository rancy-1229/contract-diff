# AI审查状态位置优化说明

## 优化概述

根据用户反馈"把左上角的AI审查进度展示拿掉，在标准文档区域的"，我们调整了AI审查状态的显示位置，从左上角移动到标准文档区域内，让界面更加整洁和合理。

## 主要优化内容

### 1. 移除左上角状态显示
- **原位置**: 左上角浮动显示
- **问题**: 占用全局空间，影响整体布局
- **解决**: 完全移除左上角的状态显示

### 2. 集成到标准文档区域
- **新位置**: 标准文档图片显示区域内
- **优势**: 与文档内容关联更紧密
- **效果**: 状态信息与相关文档在同一区域

### 3. 优化显示效果
- **位置**: 标准文档区域左上角
- **层级**: z-index: 10，确保在图片之上
- **尺寸**: 最大宽度280px，适配文档区域

## 技术实现

### 位置调整
```typescript
// 原位置 - 全局左上角
<div style={{
  position: 'absolute',
  top: '20px',
  left: '20px',
  zIndex: 100,
  maxWidth: '300px'
}}>
  {/* AI审查状态 */}
</div>

// 新位置 - 标准文档区域内
<div style={{ 
  flex: 1,
  display: 'flex', 
  alignItems: 'center', 
  justifyContent: 'center',
  padding: '20px',
  background: '#fafafa',
  overflow: 'auto',
  position: 'relative'  // 添加相对定位
}}>
  {/* 图片显示 */}
  
  {/* AI审查状态 - 标准文档区域内 */}
  {aiReviewEnabled && (
    <div style={{
      position: 'absolute',
      top: '20px',
      left: '20px',
      zIndex: 10,
      maxWidth: '280px'
    }}>
      {/* AI审查状态 */}
    </div>
  )}
</div>
```

### 状态显示逻辑
```typescript
{aiReviewStatus === 'processing' && (
  <Alert
    message="AI审查进行中..."
    description="正在分析合同差异，请稍候"
    type="info"
    icon={<RobotOutlined />}
    showIcon
    style={{ fontSize: '12px' }}
  />
)}
{aiReviewStatus === 'completed' && (
  <Alert
    message={`AI审查完成 (${aiReviews.length}条)`}
    type="success"
    icon={<RobotOutlined />}
    showIcon
    style={{ fontSize: '12px' }}
  />
)}
{aiReviewStatus === 'error' && (
  <Alert
    message="AI审查失败"
    description="请检查网络连接或稍后重试"
    type="error"
    icon={<RobotOutlined />}
    showIcon
    style={{ fontSize: '12px' }}
  />
)}
```

## 设计优势

### 1. 空间利用
- **全局空间**: 释放左上角空间，界面更整洁
- **局部空间**: 在标准文档区域内显示，空间利用更合理
- **视觉平衡**: 避免全局元素过多，保持视觉平衡

### 2. 信息关联
- **逻辑关联**: AI审查状态与标准文档关联更紧密
- **上下文**: 状态信息在相关文档区域内显示
- **用户理解**: 用户更容易理解状态与文档的关系

### 3. 视觉层次
- **层级清晰**: 状态信息在文档区域内，层级更清晰
- **不干扰**: 不影响其他区域的显示
- **聚焦**: 用户注意力更集中在文档区域

## 用户体验提升

### 1. 界面整洁
- **减少干扰**: 左上角不再有浮动元素
- **视觉统一**: 所有状态信息都在文档区域内
- **空间优化**: 更好地利用屏幕空间

### 2. 信息组织
- **逻辑分组**: 状态信息与相关文档在同一区域
- **易于理解**: 用户更容易理解状态与文档的关系
- **操作便利**: 状态信息与文档操作在同一区域

### 3. 视觉体验
- **层次分明**: 状态信息在文档区域内，层次更清晰
- **不遮挡**: 不影响其他重要信息的显示
- **聚焦效果**: 用户注意力更集中在文档内容

## 布局对比

### 优化前
```
┌─────────────────────────────────────────────────────────┐
│ [AI审查状态]                                            │
│                                                         │
│ ┌─────────────────┬─────────────────┐                   │
│ │ 标准文档        │ 目标文档        │                   │
│ │                 │                 │                   │
│ │     图片        │     图片        │                   │
│ │                 │                 │                   │
│ └─────────────────┴─────────────────┘                   │
└─────────────────────────────────────────────────────────┘
```

### 优化后
```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ ┌─────────────────┬─────────────────┐                   │
│ │ 标准文档        │ 目标文档        │                   │
│ │ [AI审查状态]    │                 │                   │
│ │     图片        │     图片        │                   │
│ │                 │                 │                   │
│ └─────────────────┴─────────────────┘                   │
└─────────────────────────────────────────────────────────┘
```

## 技术特点

### 1. 定位方式
- **相对定位**: 父容器使用 `position: relative`
- **绝对定位**: 状态信息使用 `position: absolute`
- **层级控制**: 使用 `zIndex: 10` 确保在图片之上

### 2. 响应式设计
- **最大宽度**: 限制状态信息最大宽度为280px
- **自适应**: 根据文档区域大小自动调整
- **不溢出**: 确保状态信息不会超出文档区域

### 3. 性能优化
- **条件渲染**: 只在 `aiReviewEnabled` 时显示
- **状态驱动**: 根据 `aiReviewStatus` 显示不同内容
- **轻量实现**: 纯CSS定位，无额外性能开销

---

*优化完成: 2025-09-24*
*位置调整: 左上角 → 标准文档区域内*
*用户体验: 整洁 + 关联性更强*
